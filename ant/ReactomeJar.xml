<?xml version="1.0"?>
<!-- ====================================================================== 
     Jul 1, 2005 3:47:49 PM                                                        

     project    Jar Reactome APIs
     description Create a jar files from gkdev to be used by caBigR3 project.
                   
     guanming                                                                
     ====================================================================== -->
<project name="ReactomeJar" default="jar" basedir="..">
	<property name="destDir" value="${basedir}" />
	<property name="classDir" value="${basedir}/classes" />
	<property name="srcDir" value="${basedir}/src" />
	<property name="libDir" value="${basedir}/lib" /> 

	<path id="class.path">
		<fileset dir="${libDir}">
			<include name="**/*.jar" />
		</fileset>
	</path>

	<fileset id="sourceFiles" dir="${srcDir}">
		<include name="org/gk/database/*.java" />
		<include name="org/gk/database/util/*.java" />
		<include name="org/gk/elv/*.java" />
		<include name="org/gk/gkCurator/*.java" />
		<include name="org/gk/gkCurator/authorTool/*.java" />
		<include name="org/gk/gkEditor/*.java" />
		<include name="org/gk/graphEditor/*.java" />
		<include name="org/gk/model/*.java" />
		<include name="org/gk/osxAdapter/*.java" />
		<include name="org/gk/pathwaylayout/*.java" />
		<include name="org/gk/pathView/GKVisualizationPane.java" />
		<include name="org/gk/persistence/*.java" />
		<include name="org/gk/property/*.java" />
		<include name="org/gk/render/*.java" />
		<include name="org/gk/schema/*.java" />
		<!-- Don't place this package into the base (May, 2019) -->
		<!-- include name="org/gk/slicing/*.java" /-->
		<include name="org/gk/util/*.java" />
	</fileset>

	<fileset id="classFiles" dir="${classDir}">
		<include name="org/gk/database/*.class" />
		<include name="org/gk/database/util/*.class" />
		<include name="org/gk/elv/*.class" />
		<include name="org/gk/gkCurator/*.class" />
		<include name="org/gk/gkCurator/authorTool/*.class" />
		<include name="org/gk/gkEditor/*.class" />
		<include name="org/gk/graphEditor/*.class" />
		<include name="org/gk/model/*.class" />
		<include name="org/gk/osxAdapter/*.class" />
		<include name="org/gk/pathwaylayout/*.class" />
		<include name="org/gk/pathView/GKVisualizationPane.class" />
		<include name="org/gk/persistence/*.class" />
		<include name="org/gk/property/*.class" />
		<include name="org/gk/render/*.class" />
		<include name="org/gk/schema/*.class" />
		<!-- Don't place this package into the base (May, 2019) -->
		<!-- include name="org/gk/slicing/*.class" /-->
		<include name="org/gk/util/*.class" />
	</fileset>

	<target name="clean">
		<delete dir="${classDir}" />
	</target>

	<target name="compile" depends="clean">
		<mkdir dir="${classDir}" />
		<javac includeantruntime="false" srcdir="${srcDir}" destdir="${classDir}">
			<classpath refid="class.path" />
			
			<include name="org/gk/database/*.java" />
			<include name="org/gk/database/util/*.java" />
			<include name="org/gk/elv/*.java" />
			<include name="org/gk/gkCurator/*.java" />
			<include name="org/gk/gkCurator/authorTool/*.java" />
			<include name="org/gk/gkEditor/*.java" />
			<include name="org/gk/graphEditor/*.java" />
			<include name="org/gk/model/*.java" />
			<include name="org/gk/osxAdapter/*.java" />
			<include name="org/gk/pathwaylayout/*.java" />
			<include name="org/gk/pathView/GKVisualizationPane.java" />
			<include name="org/gk/persistence/*.java" />
			<include name="org/gk/property/*.java" />
			<include name="org/gk/render/*.java" />
			<include name="org/gk/schema/*.java" />
			<!-- Don't place this package into the base (May, 2019) -->
			<!-- include name="org/gk/slicing/*.java" /-->
			<include name="org/gk/util/*.java" />
		</javac>
	</target>

	<target name="jar" depends="compile">
		<jar destfile="${destDir}/reactome.jar">
			<fileset refid="classFiles" />
			<fileset refid="sourceFiles" />
		</jar>
	</target>
</project>